package se;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import javax.swing.text.*;

/*
  *
  * Editor für Personen
  *
  * @version 1.0 vom 21.01.2016
  * @author Sebastian Mischke                                                        
  */

public class PersonEditor extends JPanel {
	// Anfang Attribute
	private JLabel lnamelabel = new JLabel();
	private JLabel fnamelabel = new JLabel();
	private JLabel genderlabel = new JLabel();
	private JLabel bdaylabel = new JLabel();
	private JButton newbutton = new JButton();
	private JTextField lnametf = new JTextField();
	private JTextField fnametf = new JTextField();
	private JComboBox genderbox = new JComboBox();
	private DefaultComboBoxModel jComboBox1Model = new DefaultComboBoxModel();
	private JLabel fatherlabel = new JLabel();
	private JComboBox fatherbox = new JComboBox();
	private DefaultComboBoxModel jComboBox2Model = new DefaultComboBoxModel();
	private JLabel motherlabel = new JLabel();
	private JComboBox motherbox = new JComboBox();
	private DefaultComboBoxModel jComboBox3Model = new DefaultComboBoxModel();
	private JLabel spouselabel = new JLabel();
	private JComboBox spousebox = new JComboBox();
	private DefaultComboBoxModel jComboBox4Model = new DefaultComboBoxModel();
	private JButton acceptbutton = new JButton();
	private JButton cancelbutton = new JButton();
	private JList jList1 = new JList();
	private DefaultListModel jList1Model = new DefaultListModel();
	private JScrollPane jList1ScrollPane = new JScrollPane(jList1);
	private JButton selectbutton = new JButton();
	private JLabel lnamelabel1 = new JLabel();
	private JLabel fnamelabel1 = new JLabel();
	private JLabel genderlabel1 = new JLabel();
	private JLabel bdaylabel1 = new JLabel();
	private JLabel fatherlabel1 = new JLabel();
	private JLabel motherlabel1 = new JLabel();
	private JLabel spouselabel1 = new JLabel();
	private JFormattedTextField gebdattf = new JFormattedTextField(createFormatter("##.##.####"));
	public PersonList personlist;
	private Person selected;
	// Ende Attribute

	public PersonEditor() {
		this(new PersonList());
	}

	public PersonEditor(PersonList pl) {
		// Frame-Initialisierung
		super();
		Container cp = this;
		cp.setLayout(null);
		personlist = pl;
		selected = new Person("", "");
		// Anfang Komponenten

		lnamelabel.setBounds(13, 13, 150, 25);
		lnamelabel.setText("Nachname");
		cp.add(lnamelabel);
		fnamelabel.setBounds(13, 59, 150, 25);
		fnamelabel.setText("Vorname");
		cp.add(fnamelabel);
		genderlabel.setBounds(13, 151, 150, 25);
		genderlabel.setText("Geschlecht");
		cp.add(genderlabel);
		bdaylabel.setBounds(13, 105, 150, 25);
		bdaylabel.setText("Geburtsdatum");
		cp.add(bdaylabel);
		newbutton.setBounds(13, 460, 95, 25);
		newbutton.setText("Neu");
		newbutton.setMargin(new Insets(2, 2, 2, 2));
		cp.add(newbutton);
		lnametf.setBounds(163, 13, 150, 25);
		cp.add(lnametf);
		fnametf.setBounds(163, 59, 150, 25);
		cp.add(fnametf);
		genderbox.setModel(jComboBox1Model);
		genderbox.setBounds(163, 151, 150, 25);
		genderbox.addItem("Männlich");
		genderbox.addItem("Weiblich");
		genderbox.addItem("Unbekannt");
		cp.add(genderbox);
		fatherlabel.setBounds(13, 197, 150, 25);
		fatherlabel.setText("Vater");
		cp.add(fatherlabel);
		fatherbox.setModel(jComboBox2Model);
		fatherbox.setBounds(163, 197, 150, 25);
		cp.add(fatherbox);
		motherlabel.setBounds(13, 243, 150, 25);
		motherlabel.setText("Mutter");
		cp.add(motherlabel);
		motherbox.setModel(jComboBox3Model);
		motherbox.setBounds(163, 243, 150, 25);
		cp.add(motherbox);
		spouselabel.setBounds(13, 289, 150, 25);
		spouselabel.setText("Ehepartner");
		cp.add(spouselabel);
		spousebox.setModel(jComboBox4Model);
		spousebox.setBounds(163, 289, 150, 25);
		cp.add(spousebox);
		acceptbutton.setBounds(126, 460, 95, 25);
		acceptbutton.setText("Übernehmen");
		acceptbutton.setMargin(new Insets(2, 2, 2, 2));
		acceptbutton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent evt) {
				acceptbutton_ActionPerformed(evt);
			}
		});
		cp.add(acceptbutton);
		cancelbutton.setBounds(240, 460, 95, 25);
		cancelbutton.setText("Löschen");
		cancelbutton.setMargin(new Insets(2, 2, 2, 2));
		cancelbutton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent evt) {
				cancelbutton_ActionPerformed(evt);
			}
		});
		cp.add(cancelbutton);
		jList1.setModel(jList1Model);
		jList1ScrollPane.setBounds(545, 13, 235, 436);
		cp.add(jList1ScrollPane);
		selectbutton.setBounds(545, 460, 235, 25);
		selectbutton.setText("Auswählen");
		selectbutton.setMargin(new Insets(2, 2, 2, 2));
		selectbutton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent evt) {
				selectbutton_ActionPerformed(evt);
			}
		});
		selectbutton.setRolloverEnabled(true);
		cp.add(selectbutton);
		lnamelabel1.setBounds(326, 13, 180, 25);
		lnamelabel1.setText("Ungültiger Nachname");
		lnamelabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		lnamelabel1.setForeground(Color.RED);
		cp.add(lnamelabel1);
		fnamelabel1.setBounds(326, 59, 180, 25);
		fnamelabel1.setText("Ungültiger Vorname");
		fnamelabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		fnamelabel1.setForeground(Color.RED);
		cp.add(fnamelabel1);
		genderlabel1.setBounds(326, 151, 180, 25);
		genderlabel1.setText("Ungültiges Geschlecht");
		genderlabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		genderlabel1.setForeground(Color.RED);
		cp.add(genderlabel1);
		bdaylabel1.setBounds(326, 105, 180, 25);
		bdaylabel1.setText("Ungültiges Geburtsdatum");
		bdaylabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		bdaylabel1.setForeground(Color.RED);
		cp.add(bdaylabel1);
		fatherlabel1.setBounds(326, 197, 180, 25);
		fatherlabel1.setText("Ungültiger Vater");
		fatherlabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		fatherlabel1.setForeground(Color.RED);
		cp.add(fatherlabel1);
		motherlabel1.setBounds(326, 243, 180, 25);
		motherlabel1.setText("Ungültige Mutter");
		motherlabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		motherlabel1.setForeground(Color.RED);
		cp.add(motherlabel1);
		spouselabel1.setBounds(326, 289, 180, 25);
		spouselabel1.setText("Ungültiger Ehepartner");
		spouselabel1.setFont(new Font("Dialog", Font.PLAIN, 12));
		spouselabel1.setForeground(Color.RED);
		cp.add(spouselabel1);
		gebdattf.setBounds(163, 105, 150, 25);
		gebdattf.setText("01.01.1990");
		cp.add(gebdattf);
		// Ende Komponenten

		updateList();
		setVisible(true);
	} // end of public PersonEditor

	// Anfang Methoden
	public static void main(String[] args) {
		JFrame f = new JFrame("PersonEditor");
		f.add(new PersonEditor(), BorderLayout.CENTER);
		f.setSize(809, 537);
		f.setVisible(true);
	} // end of main

	public void cancelbutton_ActionPerformed(ActionEvent evt) {
		// TODO hier Quelltext einfügen
	} // end of cancelbutton_ActionPerformed

	public void selectbutton_ActionPerformed(ActionEvent evt) {
		if (jList1.getSelectedIndex() != -1) {
			System.out.println(jList1.getSelectedIndex());
			selected = personlist.getList()[jList1.getSelectedIndex()];
			System.out.println(selected.getName());
		}
		lnametf.setText(selected.getNachname());
		fnametf.setText(selected.getVorname());
		// gebdattf.setText(selected.getGebdat());
	} // end of selectbutton_ActionPerformed

	public void acceptbutton_ActionPerformed(ActionEvent evt) {
		selected.setNachname(lnametf.getText());
		selected.setVorname(fnametf.getText());
		// selected.setGeschlecht

	} // end of selectbutton_ActionPerformed

	protected MaskFormatter createFormatter(String s) {
		MaskFormatter formatter = null;
		try {
			formatter = new MaskFormatter(s);
		} catch (java.text.ParseException exc) {
		}
		return formatter;
	}

	public void updateList() {
		jList1Model.clear();
		String[] infos = personlist.getStringList();
		for (int i = 0; i < personlist.getQuantity(); i++) {
			jList1Model.addElement(infos[i]);
		}
	}

	public void updateSize(int size) {
		// TODO: Setze neue Schriftgröße
	}

	public void updateLang(String lang) {
		// TODO: Setze neue Schriftgröße

	}
} // end of class PersonEditor
